<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>INFEKSI-0</title>
  <style>
    body {
      background: #0b0b0b;
      color: #e0e0e0;
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
    }

    h1 { color: crimson; }

    button {
      padding: 12px 24px;
      font-size: 18px;
      cursor: pointer;
      background: crimson;
      border: none;
      color: white;
      border-radius: 6px;
      margin: 10px;
    }

    button.secondary { background: #444; }

    button:disabled {
      background: #555;
      cursor: not-allowed;
    }

    .menu { margin-top: 60px; }
    .game, .rulebook, .choose { display: none; }

    .counter {
      font-size: 64px;
      margin: 20px 0;
      color: #ff4444;
    }

    .result img {
      max-width: 220px;
      margin-top: 20px;
      filter: drop-shadow(0 0 15px black);
    }

    .log {
      margin-top: 20px;
      background: #111;
      padding: 15px;
      border-radius: 8px;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
      text-align: left;
      font-size: 14px;
    }

    .choose button {
      width: 220px;
      font-size: 20px;
    }

    /* =========================
   RESPONSIVE HP 9:16
   ========================= */
@media (max-width: 480px) and (orientation: portrait) {

  body {
    padding: 12px;
    font-size: 16px;
  }

  h1 {
    font-size: 28px;
    margin-bottom: 10px;
  }

  h2 {
    font-size: 22px;
  }

  button {
    width: 100%;
    max-width: 320px;
    font-size: 18px;
    padding: 14px;
    margin: 8px auto;
    display: block;
  }

  .menu,
  .choose,
  .game,
  .rulebook {
    margin-top: 20px;
  }

  /* Counter utama */
  .counter {
    font-size: 80px;
    margin: 16px 0;
  }

  /* Gambar hasil menang/kalah */
  .result img {
    max-width: 70%;
    height: auto;
  }

  /* Pilih infeksi */
  .choose img {
    width: 100%;
    max-width: 220px;
    height: auto;
  }

  /* Log biar enak dibaca */
  .log {
    font-size: 14px;
    max-width: 100%;
    max-height: 180px;
    overflow-y: auto;
  }

  /* Rulebook image */
  .rulebook img {
    width: 100%;
    max-width: 360px;
    height: auto;
  }
}

  </style>
</head>
<body>

<h1>ü¶† INFEKSI-0</h1>

<!-- MENU -->
<div class="menu" id="menu">
  <button onclick="openRulebook()">üìñ Rulebook</button><br>
  <button onclick="openChoose()">üéÆ Play Game</button>
</div>

<!-- PILIH INFEKSI -->
<div class="choose" id="choose">
  <h2>Pilih Jenis Infeksi</h2>
  <button onclick="selectInfection('cacing')">
  <img src="cacingm.png" alt="Cacing" style="width:180px;">
</button><br><br>

<button onclick="selectInfection('tikus')">
  <img src="tikusm.png" alt="Tikus" style="width:180px;">
</button><br><br>

  <button class="secondary" onclick="backToMenu()">‚¨Ö Kembali</button>
</div>

<!-- RULEBOOK -->
<div class="rulebook" id="rulebook">
  <h2>üìñ Rulebook</h2>
  <img src="rulebook.png"><br><br>
  <button class="secondary" onclick="backToMenu()">‚¨Ö Kembali</button>
</div>

<!-- GAME -->
<div class="game" id="game">
  <p>Tekan infeksi ke <b>0</b> sebelum mencapai <b>10</b></p>

  <div class="counter" id="infection">5</div>
  <div class="result" id="result"></div>

  <button id="rollBtn">Giliran Manusia üé≤</button><br><br>
  <button class="secondary" onclick="backToMenu()">‚¨Ö Kembali ke Menu</button>

  <div class="log" id="log">
    <b>Log:</b><br>
    Infeksi dimulai di 5<br>
  </div>
</div>

<script>
  let infection = 5;
  let selectedInfection = "cacing";

  const infectionDiv = document.getElementById("infection");
  const logDiv = document.getElementById("log");
  const rollBtn = document.getElementById("rollBtn");
  const resultDiv = document.getElementById("result");

  const menu = document.getElementById("menu");
  const game = document.getElementById("game");
  const rulebook = document.getElementById("rulebook");
  const choose = document.getElementById("choose");

  function openRulebook() {
    menu.style.display = "none";
    rulebook.style.display = "block";
  }

  function openChoose() {
    menu.style.display = "none";
    choose.style.display = "block";
  }

  function selectInfection(type) {
    selectedInfection = type;
    choose.style.display = "none";
    game.style.display = "block";
    resetGame();
  }

  function backToMenu() {
    menu.style.display = "block";
    game.style.display = "none";
    rulebook.style.display = "none";
    choose.style.display = "none";
  }

  function resetGame() {
    infection = 5;
    rollBtn.disabled = false;
    infectionDiv.textContent = infection;
    logDiv.innerHTML = "<b>Log:</b><br>Infeksi dimulai di 5<br>";
    resultDiv.innerHTML = "";
  }

  function rollDice() {
    return Math.floor(Math.random() * 6) + 1;
  }

  function moveValue(dice) {
    if (dice <= 3) return 0;
    if (dice === 4) return 1;
    if (dice === 5) return 2;
    if (dice === 6) return 3;
  }

  function addLog(text) {
    logDiv.innerHTML += text + "<br>";
    logDiv.scrollTop = logDiv.scrollHeight;
  }

  function checkGameEnd() {
    if (infection <= 0) {
      infection = 0;
      infectionDiv.textContent = infection;
      addLog("‚úÖ MANUSIA MENANG!");
      rollBtn.disabled = true;
      resultDiv.innerHTML =
        `<img src="${selectedInfection}k.png">`;
      return true;
    }

    if (infection >= 10) {
      infection = 10;
      infectionDiv.textContent = infection;
      addLog("‚ùå MANUSIA KALAH!");
      rollBtn.disabled = true;
      resultDiv.innerHTML =
        `<img src="${selectedInfection}m.png">`;
      return true;
    }
    return false;
  }

  rollBtn.onclick = () => {
    let diceHuman = rollDice();
    let moveHuman = moveValue(diceHuman);
    infection -= moveHuman;

    addLog(`üé≤ Manusia lempar ${diceHuman} ‚Üí Infeksi mundur ${moveHuman}`);
    infectionDiv.textContent = infection;
    if (checkGameEnd()) return;

    let diceInfection = rollDice();
    let moveInfection = moveValue(diceInfection);
    infection += moveInfection;

    addLog(`ü¶† Infeksi lempar ${diceInfection} ‚Üí Infeksi maju ${moveInfection}`);
    infectionDiv.textContent = infection;
    checkGameEnd();
  };
</script>

</body>
</html>
